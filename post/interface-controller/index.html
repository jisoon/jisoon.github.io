<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Conterller Interface 그리고 Generic - Write whatever!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <link rel="canonical" href="../../post/interface-controller/">

    
    

    
    

    
    
    <link rel='stylesheet' type='text/css' href='http://fonts.googleapis.com/earlyaccess/nanumgothic.css'>

    <link rel="stylesheet" type="text/css" href="../../css/combined-min.css">
    <style>
        body {
            font-family: "Nanum Gothic", sans-serif;
        }
    </style>
</head>

<body class="">
<div class="site-wrap">
  <header class="site-header px2 px-responsive">
  <div class="mt2 wrap">
    <div class="measure">
      <a href="" class="site-title">Write whatever!</a>
      <nav class="site-nav right">
      <a href="../../about/">About</a>
<a href="../../tags/">Tags</a>
<a href="../../contact/">Contact</a>
</form>

      </nav>
      <div class="clearfix"></div>
    </div>
  </div>
</header>

  <div class="post p2 p-responsive wrap" role="main">
    <div class="measure">
      <div class="post-header mb2">
        <h1 class="py2">Conterller Interface 그리고 Generic</h1>
        <span class="post-meta">Sep 9, 2017 by </span><br>
        
      </div>

      <article class="post-content">
      

<p>&laquo;모든 메뉴는 목록조회, 상세, 추가, 수정, 삭제 기능을 가진다. 관리자 기능 접근을 제어 할 수 있다.&raquo; 라는 요구사항이 있었다.</p>

<p>요구사항을 보는순간 Interface 가 떠올랐다.
그리고 바로 샘플을 구현하였다.
설계 점검이라 코드는 간략히 작성 하기로 하였다.</p>

<p>최초 코드는 다음과 같은 모습였다.</p>

<p>BaseController.java</p>

<pre><code>public interface BaseController {

    Object getSearch(Object schDto);

    Object getFind();

    void add(Object addDto);
}
</code></pre>

<p>TestImplementsController.java</p>

<pre><code>@RestController
public class TestImplementsController implements BaseController{

    @Autowired
    private TestService service;

    @Override
    public Object getSearch(Object reqDto) {
        return null;
    }

    @Override
    public Object getFind() {
        return null;
    }

    @Override
    public void add(Object addDto) {

    }


}
</code></pre>

<p>처음 작상하는 코드는 늘 문제점가 많다.</p>

<p>구현 Contoller 매개변수가 Object 타입이라는 것이다.
이것은 구현 Conttoller 에서 Service를 호출 할때 형변환을 하거나 아니면,
Service 클래스 매개변수를 Object 로 하고 내부적으로 형변환을 해야 한다.</p>

<p>좀더 깔끔하게 구현하고 싶었다. 제너릭이 생각이 났다. 하지만 제너릭 문법은
Collection 객체를 생성시에만 사용해 보았다.
Class 나 Interface 제네릭 사용법을 검색 한후 숙지하고 다시 작성 하였다.</p>

<p>아래는 다시 작성 코드이다.</p>

<p>BaseController.java</p>

<pre><code>public interface BaseController&lt;T1, T2, T3&gt; {

    Object getSearch(T1 schDto);

    Object getFind(T2 findDto);

    void add(T3 addDto);
}
</code></pre>

<p>TestImplementsController.java</p>

<pre><code>@RestController
public class TestImplementsController implements BaseController&lt;ServiceDto, FindDto, AddDto&gt; {

    @Override
    public Object getSearch(ServiceDto reqDto) {
        return null;
    }

    @Override
    public Object getFind(FindDto findDto) {
        return null;
    }

    @Override
    public void add(ServiceAddDto addDto) {

    }
}
</code></pre>

<p>나와 동료는 나름 만족하였고 샘플 코드를 참조하여 개발 진행 하기로 했다.</p>

<h3 id="제너릭에-대한-요약">제너릭에 대한 요약!</h3>

<ol>
<li>제너릭은 타입을 제한하기 위해서 필요한것</li>
<li>runtime 이 아닌 compile 시 타입을 제한</li>
<li>매개변수, 리턴값 등을 제한 할 수 있다.</li>
<li>메소드와 클래스 단위 제너릭 사용 문법은 다르다.</li>
</ol>

<h3 id="에필로그">에필로그</h3>

<p>BaseController 를 삭제 했다.</p>

<p>개발 시작후 얼마지나지 않아 너무 갑갑하고, 필요하지도 않은 Dto를 작성해야 되는 상황이 발생 하였다.</p>

<p>메뉴 URL 을 DB에 저장하고 Interceptor 나 Filtter 제어 하기로 하고 BaseController 는 삭제해 버렸다.</p>

<p>또한 이 경우는 Dto 보다는 Map 이 좋을 것 같다.</p>

      </article>

      <p class="post-meta">Tags:&nbsp;
        
            
            <a href="../../tags/Java">Java</a>
        
            ,&nbsp;
            <a href="../../tags/Generic">Generic</a>
        
      </p>

      

    </div>
  </div>
</div>
    <footer class="footer">
      <div class="p2 wrap">
        <div class="measure mt1 center">
      <nav class="social-icons icons">
    
    
</nav>
          <small>
            Copyright &#169; 2017<br>
            Powered by <a href="http://gohugo.io/" target="_blank">Hugo</a> &amp; <a href="https://github.com/azmelanar/hugo-theme-pixyll" target="_blank">Pixyll</a>
          </small>
        </div>
      </div>
    </footer>

    
    <script src="../../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    
    


</body>
</html>

